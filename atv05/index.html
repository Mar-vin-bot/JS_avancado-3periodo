<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <script>


        async function showNivel() {
            arquivo = await fetch("ranking.json");
            conteudo = await arquivo.json();


            select = document.getElementById("selectLevel");
            opcaoValue = select.options[select.selectedIndex].value;

            document.getElementById("table").innerHTML = `<th>Usuário</th>
                                    <th>Pontuação</th>`


            conteudo.players.forEach(function varrerJson(elemento, i) {
                if (elemento.level == opcaoValue) {
                    document.getElementById("tabela").innerHTML +=
                        `<tr><td>${elemento.username}</td>
                                    <td>${elemento.score}</td></tr>`;
                }
            }
    
    }

    </script>
</head>

<body>
    <h1>Selecione o nível de dificuldade para visualizar o ranking.</h1>
    <form>
        <select name="name_select" id="selectLevel">
            <option value="escolha"> Chose</option>
            <option value="Easy"> Fácil</option>
            <option value="Medium"> Médio</option>
            <option value="Hard"> Difícil</option>
        </select>


        <input type="button" value="Visualizar" onclick="showNivel()">


    </form>



    <table id="table"></table>


</body>

</html>